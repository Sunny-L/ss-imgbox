<!doctype html>
<html>
	<head>
	<meta charset="utf-8">
	<script type="text/javascript" src="js/jquery-1.11.1.min.js"></script>
		<script type="text/javascript">
			window.onload = function(){
				/*var img = new Image();
				var cvs = document.getElementById('cvs');
				var ctx = cvs.getContext('2d');
				img.onload = function(){
					cvs.width = img.width;
					cvs.height = img.height;
					var left = document.getElementById('left');
					ctx.save();
					ctx.drawImage(img,0,0);
					ctx.restore();
				}
				var oSrc = 'images/01.jpg';
				img.src = oSrc;*/
				var left = document.getElementById('left');
				var leftDeg = -90;
				left.onclick = function(){
					console.log(leftDeg);
					//toLeft(cvs,ctx,oSrc);
					$('img').css({
						transform:'rotate('+leftDeg+'deg)',
						'filter':'progid:DXImageTransform.Microsoft.Matrix(M11='+Math.cos((leftDeg+360)*Math.PI/180)+',M12='+-1*Math.sin((leftDeg+360)*Math.PI/180)+',M21='+Math.sin((leftDeg+360)*Math.PI/180)+',M22='+Math.cos((leftDeg+360)*Math.PI/180)+',SizingMethod="auto expand")',
						border:'1px solid red'
					});
					leftDeg = leftDeg -90;
				}
			}

			function toLeft(cvs,ctx,oSrc){
				var img = new Image();
				img.onload = function(){
					cvs.width = img.height;
					cvs.height = img.width;
					ctx.save();
					ctx.translate(img.height,0);
					ctx.rotate(Math.PI/2);
					ctx.drawImage(img,0,0);
					ctx.restore();
				}
				img.src = oSrc;
			}
		</script>
		<style type="text/css">
		.left-rotate{
			transform:rotate(0deg);
			filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=0);
		}
		</style>
	</head>
	<body>
		<span id="left">左旋转</span> <span id="right">右旋转</span>
		<canvas id="cvs"></canvas>
		<img src="images/02.jpg" class="left-rotate" />
	</body>
</html>